# @cosme Scraping Design（Octoparse）

## 1. 目的
@cosme において、商品／口コミ／投稿者情報を安定的に取得し、
**一覧 → 詳細 → 投稿者ページ** を一連で処理する。

本設計では以下を前提とする。

- 表示制限・更新頻度が高い構造を前提に運用設計まで落とす
- 取得できない情報は欠損（空欄）が正
- 誤取得より欠損を優先

---

## 2. 対象ページ構成
- 一覧ページ：
- 詳細ページ：
- 投稿者ページ：

（※ 実URLを記載）

---

## 3. 全体フロー

一覧ページ
↓ Loop
詳細ページ
├ 投稿日時
├ 投稿内容
└ 投稿者URL
↓
投稿者ページ
├ SNSリンク（存在する場合のみ）

yaml
コードをコピーする

---

## 4. Octoparse設計

### 4.1 Loop設計
- Loop Item：
- 1ページあたり件数：

### 4.2 ページ遷移
- クリック / URL：
- 不安定時の代替手段：

### 4.3 Pagination
- 方式：
- 最大取得ページ数：
- 制限理由：

---

## 5. 取得項目設計

### 詳細ページ
| Field | 内容 | 備考 |
|---|---|---|
| review_url | URL | |
| published_at | 投稿日時 | |
| user_url | 投稿者URL | |

### 投稿者ページ
| Field | 条件 | ルール |
|---|---|---|
| instagram_url | | |
| x_url | | |
| website_url | | |

---

## 6. Delay設計
- 詳細ページ：
- 投稿者ページ：

**理由**
- 動的描画／認識遅延対策として仕様化

---

## 7. 重複・欠損の扱い
- ユニークキー：
- 欠損の扱い：

---

## 8. 既知の問題と対策
- 問題：
- 対策：

---

## 9. 出力カラム
yaml
コードをコピーする

---

## 10. 補足
本設計は実運用を前提とし、取得率よりデータの正確性を優先する。
